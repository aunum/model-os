# this file was generated by modelos
FROM python:3.10.10-slim
ENV PYTHONUNBUFFERED="1"
ENV PYTHONDONTWRITEBYTECODE="1"
ENV PIP_NO_CACHE_DIR="off"
ENV PIP_DISABLE_PIP_VERSION_CHECK="on"
ENV POETRY_NO_INTERACTION="1"
ENV PYTHONPATH="${PYTHONPATH}:/app:/app/"
RUN apt update && apt install -y watchdog git curl
RUN pip install poetry==1.2.0 && poetry --version
WORKDIR /app/
COPY ./poetry.lock ./pyproject.toml /app/
RUN poetry install --no-ansi --no-root --only main
EXPOSE 8000
COPY ["examples/notebooks/basic/README.md", "examples/notebooks/basic/foo_client.py", "examples/notebooks/basic/foo_obj.py", "examples/notebooks/basic/foo_server.py", "examples/notebooks/basic/main.ipynb", "/app/examples/notebooks/basic/"]
COPY ["examples/notebooks/classifier/main.ipynb", "/app/examples/notebooks/classifier/"]
COPY [".DS_Store", ".gitignore", ".pylintrc", "Dockerfile.mdl", "LICENSE", "Makefile", "README.md", "poetry.lock", "pyproject.toml", "/app/"]
COPY ["docs/core_types.md", "/app/docs/"]
COPY ["examples/basic/requirements.txt", "/app/examples/basic/"]
COPY ["examples/basic/foo/foo.py", "/app/examples/basic/foo/"]
COPY ["examples/txt_classifier/environment.yml", "/app/examples/txt_classifier/"]
COPY ["examples/txt_classifier/classify/classifier.py", "/app/examples/txt_classifier/classify/"]
COPY ["modelos/__init__.py", "modelos/config.py", "modelos/local.py", "modelos/log.py", "modelos/project.py", "modelos/scm.py", "/app/modelos/"]
COPY ["modelos/env/README.md", "modelos/env/__init__.py", "modelos/env/base.py", "modelos/env/id.py", "modelos/env/version.py", "/app/modelos/env/"]
COPY ["modelos/env/image/build.py", "/app/modelos/env/image/"]
COPY ["modelos/object/__init__.py", "modelos/object/base.py", "modelos/object/encoding.py", "modelos/object/id.py", "modelos/object/info.py", "modelos/object/kind.py", "modelos/object/opts.py", "modelos/object/pkg.py", "modelos/object/schema.py", "modelos/object/version.py", "/app/modelos/object/"]
COPY ["modelos/object/repo/__init__.py", "modelos/object/repo/base.py", "modelos/object/repo/oci.py", "modelos/object/repo/uri.py", "/app/modelos/object/repo/"]
COPY ["modelos/pkg/__init__.py", "modelos/pkg/base.py", "modelos/pkg/id.py", "modelos/pkg/info.py", "modelos/pkg/util.py", "modelos/pkg/version.py", "/app/modelos/pkg/"]
COPY ["modelos/pkg/repo/__init__.py", "modelos/pkg/repo/gs.py", "modelos/pkg/repo/local.py", "modelos/pkg/repo/oci.py", "modelos/pkg/repo/remote.py", "modelos/pkg/repo/s3.py", "modelos/pkg/repo/uri.py", "modelos/pkg/repo/util.py", "/app/modelos/pkg/repo/"]
COPY ["modelos/pkg/scheme/__init__.py", "modelos/pkg/scheme/python.py", "/app/modelos/pkg/scheme/"]
COPY ["modelos/run/README.md", "modelos/run/client.py", "/app/modelos/run/"]
COPY ["modelos/run/kube/auth_util.py", "modelos/run/kube/env.py", "modelos/run/kube/pod_util.py", "modelos/run/kube/sync.py", "modelos/run/kube/uri.py", "/app/modelos/run/kube/"]
COPY ["modelos/util/decorate.py", "modelos/util/generic.py", "modelos/util/path.py", "modelos/util/rootpath.py", "modelos/util/source.py", "modelos/util/version.py", "/app/modelos/util/"]
COPY ["modelos/util/deps/__init__.py", "modelos/util/deps/reqs.py", "modelos/util/deps/stdlib", "/app/modelos/util/deps/"]
COPY ["modelos/util/notebook/__init__.py", "modelos/util/notebook/extract.py", "/app/modelos/util/notebook/"]
COPY ["modelos/virtual/container/client.py", "modelos/virtual/container/file.py", "modelos/virtual/container/id.py", "modelos/virtual/container/registry.py", "/app/modelos/virtual/container/"]
COPY ["static/L_blue.svg", "static/icon.png", "/app/static/"]
COPY ["tests/repo_test.py", "tests/scm_test.py", "/app/tests/"]
COPY ["tests/env/image/build_test.py", "tests/env/image/file_test.py", "tests/env/image/id_test.py", "/app/tests/env/image/"]
COPY ["tests/object/encoding_test.py", "/app/tests/object/"]
COPY ["tests/object/base/bar_client.py", "tests/object/base/bar_server.py", "tests/object/base/base_test.py", "tests/object/base/data_client.py", "tests/object/base/data_server.py", "tests/object/base/enumerated_client.py", "tests/object/base/enumerated_server.py", "tests/object/base/foo_client.py", "tests/object/base/foo_server.py", "tests/object/base/lotsofunions_client.py", "tests/object/base/lotsofunions_server.py", "tests/object/base/nested_client.py", "tests/object/base/nested_server.py", "/app/tests/object/base/"]
COPY ["tests/object/base/nested/bar.py", "tests/object/base/nested/baz_client.py", "tests/object/base/nested/baz_server.py", "/app/tests/object/base/nested/"]
COPY ["tests/pkg/id_test.py", "tests/pkg/pkg_test.py", "/app/tests/pkg/"]
COPY ["tests/pkg/data/bar.csv", "tests/pkg/data/foo.yaml", "/app/tests/pkg/data/"]
COPY ["tests/pkg/data/nested/baz.txt", "/app/tests/pkg/data/nested/"]
COPY .git /app/.git/
CMD ["poetry", "run", "python", "-m", "examples.notebooks.basic.foo_server"]